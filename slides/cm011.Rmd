---
title: "CONJ620: CM 1.1"
subtitle: "Introduction to Data Wrangling, Analysis, & Communication"
author: "Alison Hill"
output:
  xaringan::moon_reader:
    css: ["default", "css/ohsu.css", "css/ohsu-fonts.css"]
    lib_dir: libs
    nature:
      highlightStyle: atelier-lakeside-light
      highlightLines: true
      countIncrementalSlides: false
---

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(warning = FALSE, message = FALSE, 
  comment = NA, dpi = 300,
  fig.align = "center", out.width = "65%", cache = FALSE)
library(tidyverse)
library(babynames)
```

## Hi & welcome!

---
## Where are we going?

![](http://moderndive.netlify.com/images/flowcharts/flowchart/flowchart.002.png)

---
## How will we get there?

- ModernDive
- R4DS
- Blogs, YouTube, etc.
- DataCamp.com


---
class: inverse, middle, center
## Safe-stats

> *"Statisticians have a tendency to advocate statistical abstinence: you should only practice statistics if you‚Äôre in a long-term relationship with a statistician (Wickham 2015). But abstinence-based education rarely works. People see their friends using statistics and having a great time, and there simply aren‚Äôt enough statisticians to go around. As a field, we need to teach safe-stats, not just statistical abstinence."* - Jenny Bryan & Hadley Wickham

https://arxiv.org/pdf/1712.07349.pdf
https://nhorton.people.amherst.edu/mererenovation/17_Wickham.PDF

---

Find someone to discuss your article with
Use this link to add terms here:
http://bit.ly/conj620-cm011

---
```{r echo = TRUE, results = 'hide'}
library(tidyverse)
library(janitor)
library(here)

hi <- read_csv(here("data", "conj620-hi-20180623.csv")) %>%
  clean_names() %>% 
  rename("id" = 1, "name" = 2, "email" = 3, "year" = 4, 
         "age_guess" = 5, "program" = 6, "link" = 22, 
         "goals" = 23, "excited" = 24, "stats" = 25) %>% 
  select(year:program, 
         familiar_ = other:none_of_these, 
         used_ = excel:other_1, 
         goals:stats) %>% 
  mutate(program = word(program, start = -1),
         program = str_remove(program, "\\("),
         program = str_remove(program, "\\)"),
         id = row_number(),
         familiar_5 = if_else(!is.na(familiar_5), 
                              "Git", 
                              familiar_5))
```

---

```{r}
ggplot(hi, aes(x = year)) + 
  geom_bar(fill = "mediumseagreen", alpha = .6)
```

---
```{r}
ggplot(hi, aes(x = fct_infreq(program))) + 
  geom_bar(fill = "mediumseagreen", alpha = .6) + 
  coord_flip() + 
  labs(x = "program")
```


---

```{r}
ggplot(hi, aes(x = excited)) + 
  geom_bar(fill = "mediumseagreen", alpha = .6)
```

---

```{r}
familiar <- hi %>% 
  select(id, starts_with("familiar")) %>% 
  gather(option, familiar, starts_with("familiar"), na.rm = TRUE) 
```

---

```{r}
ggplot(familiar, aes(x = fct_relevel(familiar, "None of these"))) + 
  geom_bar(fill = "mediumseagreen", alpha = .6) +
  coord_flip() +
  labs(x = "familiar")
```

---

```{r}
used <- hi %>% 
  select(id, starts_with("used")) %>% 
  gather(option, used, starts_with("used"), na.rm = TRUE) 
```

---

```{r}
ggplot(used, aes(x = used)) + 
  geom_bar(fill = "mediumseagreen", alpha = .6) +
  coord_flip() +
  labs(x = "used")
```

---
class: inverse, middle, center


## I know...

![](https://media.giphy.com/media/uEhLWy2eu87Ly/source.gif)

---
class: inverse, middle, center


## I promise, it gets better.

![](https://media.giphy.com/media/l0MYRzcWP7cjfNQ2I/giphy.gif)

---
class: inverse, middle, center


# üèÉüèΩ

## Resources for Working in R:

http://r4ds.had.co.nz/workflow-basics.html

http://moderndive.com/2-getting-started.html

https://bookdown.org/chesterismay/rbasics/3-rstudiobasics.html

https://github.com/rstudio/cheatsheets/blob/master/rstudio-ide.pdf

---

## Install & load multiple R packages


This can get to be a long list if we want to use a lot of new packages in our work session. We can make a function to load a *list* of packages, and install them if not already installed (more on functions later).

```{r package-list-to-load}
pkgs <- c("readr", "dplyr", "tidyr") # list packages needed
```

--

```{r}
ipak <- function(pkg){
    new.pkg <- pkg[!(pkg %in% installed.packages()[, "Package"])]
    if (length(new.pkg)) 
        install.packages(new.pkg, dependencies = TRUE)
    sapply(pkg, require, character.only = TRUE)
}
```

--

```{r run-pkg-function, eval = FALSE}
ipak(pkgs) # take function, and give it that list
```

Function from: https://gist.github.com/stevenworthington/3178163

